---
sidebar_position: 13
---

import { TagDocRender } from '@site/src/components/TagDocRender';
import { AttributeType } from '@site/src/components/AttributeType.class';
import useBaseUrl from '@docusaurus/useBaseUrl';

# Rainbow

## Overview

Colorizes enclosed content with one continuous rainbow char-by-char, where client-rendered content
like the [Keybind](./keybind)-Tag and its companions cannot, due to inherent limitations, be
split up and will just be considered as an atomic unit.

<TagDocRender tag={{
  name: 'rainbow',
  aliases: [],
  selfClosing: false,
  attributes: [
    {
      name: 'phase',
      aliases: [],
      description: 'Phase-offset of the transition; 0-100%',
      fallback: '0',
      multiValue: false,
      type: AttributeType.NUMBER,
    },
    {
      name: 'override-colors',
      aliases: [],
      description: 'Whether to override already colorized members',
      fallback: 'false',
      multiValue: false,
      type: AttributeType.BOOLEAN,
    },
    {
      name: 'skip-whitespace',
      aliases: [],
      description: 'Whether to skip whitespace when coloring',
      fallback: 'true',
      multiValue: false,
      type: AttributeType.BOOLEAN,
    },
    {
      name: 'skip-non-text',
      aliases: [],
      description: 'Whether to skip atomic units like <key/>',
      fallback: 'false',
      multiValue: false,
      type: AttributeType.BOOLEAN,
    },
    {
      name: 'merge-inner',
      aliases: [],
      description: 'Whether to merge inner rainbows for continuity',
      fallback: 'false',
      multiValue: false,
      type: AttributeType.BOOLEAN,
    },
    {
      name: 'deep',
      aliases: [],
      description: 'Whether to dive into children\'s markup-attributes',
      fallback: 'false',
      multiValue: false,
      type: AttributeType.BOOLEAN,
    },
  ]
}} />

## Examples

### Continuous Rainbow

The simplest form of a rainbow, using all standard attribute-values.

```!component-markup
<rainbow>All of the fancy rainbow colors!</>
```

### Injected Color

By default, colorized members will keep their style and the transition will just skip over them.

```!component-markup
<rainbow>All of the <red>fancy</> rainbow colors!</>
```

### Split Individual Rainbows

In the following example, the text `l-me: 'hellohello-worldworld-testtest'` is to be colorized
with individual rainbows per word, having the hyphens shaded in a mere grey-tone.

```!component-markup
<rainbow
  *for-word="'hellohello-worldworld-testtest' split '-'"
  *for-separator={<gray>-}
>{word}</>
```

The above could also be specified without making use of advanced features like loops and the
explode-operator, just like the following example portrays:

```component-markup
<rainbow>hellohello</><gray>-</><rainbow>worldworld</><gray>-</><rainbow>testtest</>
```

But the prior style allows for great flexibility when it comes to data-driven rendering, as injected monochrome
passages may now be dynamically defined by the environment.

### Split Continuous Rainbow

When the merge-attribute is enabled, inner rainbows will be joined in order to allow for visual continuity.

```!component-markup
<rainbow merge-inner>
  <rainbow
    *for-word="'hellohello-worldworld-testtest' split '-'"
    *for-separator={<gray>-}
  >{word}</>
</>
```

### Animated Split Continuous Rainbow

By binding the phase-offset to an environment-variable, all while altering said variable in-between calls to
render, animations may be created.

```component-markup
<rainbow
  merge-inner
  [phase]="current_phase"
>
  <rainbow
    *for-word="'hellohello-worldworld-testtest' split '-'"
    *for-separator={<gray>-}
  >{word}</>
</>
```


<img className='rendered-image' src={useBaseUrl('/img/animated_split_continuous_rainbow.gif')} />

### Deep Rainbow

With the `deep`-flag set, The rainbow will dive into the markup-attributes of its members in specified
order and colorize their contents (if applicable) just as well; this allows for some neat effects.

```!component-markup
<rainbow deep>
  <hover-text value={and it continues here!}>The rainbow starts here</>
</>
```

This feature works with an arbitrary number of attributes, so yes - crazy (and possibly useless)
colorization like the following works also.

```!component-markup
<rainbow deep>
  <hover-item
    material="dirt"
    amount=3
    name={My dirt}
    lore={
      First line<br/>
      Second line<br/>
      Third line
    }
  >My text</>
```